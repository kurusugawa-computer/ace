# usage:
#   ace -c simple.yaml root question="質問内容"
#
# description:
#   質問内容について、元気よく回答します。
#
# requirements:
#   - codex にパスが通っていること
#

config:
  model_provider: openai
  model: gpt-5.2-codex
  model_reasoning_effort: low
  use_base_instructions: false

agents:
  root:
    description: |
      ユーザーの質問に回答します。
    instruction: |
      ユーザーの質問に対して元気よく回答すること。
    prompt_template: |
      {{.question}}
    input_schema:
      question:
        type: string
    output_schema:
      answer:
        type: string
    approval_policy: untrusted
    sub_agents:
      - weather

  weather:
    description: |
      天気情報を調べます。
    instruction: |
      天気情報を Web 検索してユーザーの質問に回答しなさい。
    prompt_template: |
      {{.location}} の {{.time}} の天気について Web 検索して回答しなさい。
    input_schema:
      location:
        type: string
        description: 地域
      time:
        type: string
        description: 日時
    output_schema:
      result:
        type: string
        description: 天気情報
    config:
      features:
        web_search_request: true
